{"code":"ER_BAD_FIELD_ERROR","errno":1054,"level":"error","message":"Check email error: Unknown column 'is_deleted' in 'where clause'","service":"inspirelens-api-mysql","sql":"SELECT COUNT(*) as count FROM users WHERE email = ? AND is_deleted = 0","sqlMessage":"Unknown column 'is_deleted' in 'where clause'","sqlState":"42S22","stack":"Error: Unknown column 'is_deleted' in 'where clause'\n    at PromisePool.execute (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at /Users/sathiya/Documents/InspireStackDevelopment/stack_server/routes/auth.js:204:30\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at /Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:295:15\n    at processParams (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:582:12)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:291:5)","timestamp":"2025-10-17 11:21:23"}
{"code":"ER_BAD_FIELD_ERROR","errno":1054,"level":"error","message":"Check email error: Unknown column 'deleted' in 'where clause'","service":"inspirelens-api-mysql","sql":"SELECT COUNT(*) as count FROM users WHERE email = ? AND deleted = 0","sqlMessage":"Unknown column 'deleted' in 'where clause'","sqlState":"42S22","stack":"Error: Unknown column 'deleted' in 'where clause'\n    at PromisePool.execute (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at /Users/sathiya/Documents/InspireStackDevelopment/stack_server/routes/auth.js:204:30\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at /Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:295:15\n    at processParams (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:582:12)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:291:5)","timestamp":"2025-10-17 11:25:23"}
{"code":"ER_BAD_FIELD_ERROR","errno":1054,"level":"error","message":"Signup error: Unknown column 'first_name' in 'field list'","service":"inspirelens-api-mysql","sql":"INSERT INTO users (username, first_name, email, password, user_type) VALUES (?, ?, ?, ?, ?)","sqlMessage":"Unknown column 'first_name' in 'field list'","sqlState":"42S22","stack":"Error: Unknown column 'first_name' in 'field list'\n    at PromisePool.execute (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at /Users/sathiya/Documents/InspireStackDevelopment/stack_server/routes/auth.js:58:31","timestamp":"2025-10-17 11:29:00"}
{"code":"ER_PARSE_ERROR","errno":1064,"level":"error","message":"Error fetching all posts: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1","service":"inspirelens-api-mysql","sql":"\n      WITH unified_content AS( SELECT 'quote' AS type, id, quote AS content, author, created_at, NULL AS summary, category_id, user_id, NULL AS url FROM quotes WHERE is_deleted = 0 UNION ALL SELECT 'article', id, title, NULL, created_at, NULL, category_id, user_id, url FROM articles WHERE is_deleted = 0 UNION ALL SELECT 'book', id, title, author, created_at, summary, category_id, user_id, url FROM books WHERE is_deleted = 0 UNION ALL SELECT 'video', id, title, NULL, created_at, NULL, category_id, user_id, url FROM videos WHERE is_deleted = 0 UNION ALL SELECT 'aiprompt', id, prompt, NULL, created_at, NULL, category_id, user_id, NULL FROM aiprompts WHERE is_deleted = 0), unified_tags AS ( SELECT 'quote' AS type, quote_id AS content_id, tag_id FROM quote_tags UNION ALL SELECT 'aiprompt', aiprompt_id, tag_id FROM aiprompt_tags UNION ALL SELECT 'book', book_id, tag_id FROM book_tags UNION ALL SELECT 'video', video_id, tag_id FROM video_tags UNION ALL SELECT 'article', article_id, tag_id FROM article_tags ) SELECT c.type, c.id, c.content, c.author, c.created_at, c.summary, cat.name AS category_name, u.username, c.url, -- Tags ( SELECT JSON_ARRAYAGG(t.name) FROM unified_tags ut JOIN tags t ON t.id = ut.tag_id WHERE ut.type = c.type AND ut.content_id = c.id ) AS tags, -- Comments ( SELECT JSON_ARRAYAGG( JSON_OBJECT( 'id', cm.id, 'username', u2.username, 'comment', cm.comment, 'created_at', cm.created_at ) ) FROM comments cm JOIN users u2 ON u2.id = cm.user_id WHERE cm.post_type = c.type AND cm.post_id = c.id AND cm.is_deleted = 0 ) AS comments, -- Votes (points) ( SELECT JSON_ARRAYAGG( JSON_OBJECT( 'id', v.id, 'user_id', u3.id, 'username', u3.username, 'vote_type', v.vote_type, 'created_at', v.created_at ) ) FROM votes v JOIN users u3 ON u3.id = v.user_id WHERE v.post_type = c.type AND v.post_id = c.id AND v.is_deleted = 0 ) AS points, -- Total counts for each type (scalar subqueries) (SELECT COUNT(*) FROM quotes WHERE is_deleted = 0) AS quote_count, (SELECT COUNT(*) FROM books WHERE is_deleted = 0) AS book_count, (SELECT COUNT(*) FROM articles WHERE is_deleted = 0) AS article_count, (SELECT COUNT(*) FROM aiprompts WHERE is_deleted = 0) AS aiprompt_count, (SELECT COUNT(*) FROM videos WHERE is_deleted = 0) AS video_count FROM unified_content c LEFT JOIN categories cat ON cat.id = c.category_id LEFT JOIN users u ON u.id = c.user_id ORDER BY RAND() LIMIT 10; \n    ","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1","sqlState":"42000","stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1\n    at PromisePool.execute (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at /Users/sathiya/Documents/InspireStackDevelopment/stack_server/routes/allpost.js:13:30\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:157:13)\n    at authenticateToken (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/middleware/auth.js:14:5)\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)","timestamp":"2025-10-18 14:05:00"}
{"code":"ER_PARSE_ERROR","errno":1064,"level":"error","message":"Error fetching all posts: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1","service":"inspirelens-api-mysql","sql":"\n      WITH unified_content AS( SELECT 'quote' AS type, id, quote AS content, author, created_at, NULL AS summary, category_id, user_id, NULL AS url FROM quotes WHERE is_deleted = 0 UNION ALL SELECT 'article', id, title, NULL, created_at, NULL, category_id, user_id, url FROM articles WHERE is_deleted = 0 UNION ALL SELECT 'book', id, title, author, created_at, summary, category_id, user_id, url FROM books WHERE is_deleted = 0 UNION ALL SELECT 'video', id, title, NULL, created_at, NULL, category_id, user_id, url FROM videos WHERE is_deleted = 0 UNION ALL SELECT 'aiprompt', id, prompt, NULL, created_at, NULL, category_id, user_id, NULL FROM aiprompts WHERE is_deleted = 0), unified_tags AS ( SELECT 'quote' AS type, quote_id AS content_id, tag_id FROM quote_tags UNION ALL SELECT 'aiprompt', aiprompt_id, tag_id FROM aiprompt_tags UNION ALL SELECT 'book', book_id, tag_id FROM book_tags UNION ALL SELECT 'video', video_id, tag_id FROM video_tags UNION ALL SELECT 'article', article_id, tag_id FROM article_tags ) SELECT c.type, c.id, c.content, c.author, c.created_at, c.summary, cat.name AS category_name, u.username, c.url, -- Tags ( SELECT JSON_ARRAYAGG(t.name) FROM unified_tags ut JOIN tags t ON t.id = ut.tag_id WHERE ut.type = c.type AND ut.content_id = c.id ) AS tags, -- Comments ( SELECT JSON_ARRAYAGG( JSON_OBJECT( 'id', cm.id, 'username', u2.username, 'comment', cm.comment, 'created_at', cm.created_at ) ) FROM comments cm JOIN users u2 ON u2.id = cm.user_id WHERE cm.post_type = c.type AND cm.post_id = c.id AND cm.is_deleted = 0 ) AS comments, -- Votes (points) ( SELECT JSON_ARRAYAGG( JSON_OBJECT( 'id', v.id, 'user_id', u3.id, 'username', u3.username, 'vote_type', v.vote_type, 'created_at', v.created_at ) ) FROM votes v JOIN users u3 ON u3.id = v.user_id WHERE v.post_type = c.type AND v.post_id = c.id AND v.is_deleted = 0 ) AS points, -- Total counts for each type (scalar subqueries) (SELECT COUNT(*) FROM quotes WHERE is_deleted = 0) AS quote_count, (SELECT COUNT(*) FROM books WHERE is_deleted = 0) AS book_count, (SELECT COUNT(*) FROM articles WHERE is_deleted = 0) AS article_count, (SELECT COUNT(*) FROM aiprompts WHERE is_deleted = 0) AS aiprompt_count, (SELECT COUNT(*) FROM videos WHERE is_deleted = 0) AS video_count FROM unified_content c LEFT JOIN categories cat ON cat.id = c.category_id LEFT JOIN users u ON u.id = c.user_id ORDER BY RAND() LIMIT 10; \n    ","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1","sqlState":"42000","stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1\n    at PromisePool.execute (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at /Users/sathiya/Documents/InspireStackDevelopment/stack_server/routes/allpost.js:13:30\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:157:13)\n    at authenticateToken (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/middleware/auth.js:14:5)\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)","timestamp":"2025-10-18 14:08:38"}
{"code":"ER_PARSE_ERROR","errno":1064,"level":"error","message":"Error fetching all posts: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1","service":"inspirelens-api-mysql","sql":"\n      WITH unified_content AS( SELECT 'quote' AS type, id, quote AS content, author, created_at, NULL AS summary, category_id, user_id, NULL AS url FROM quotes WHERE is_deleted = 0 UNION ALL SELECT 'article', id, title, NULL, created_at, NULL, category_id, user_id, url FROM articles WHERE is_deleted = 0 UNION ALL SELECT 'book', id, title, author, created_at, summary, category_id, user_id, url FROM books WHERE is_deleted = 0 UNION ALL SELECT 'video', id, title, NULL, created_at, NULL, category_id, user_id, url FROM videos WHERE is_deleted = 0 UNION ALL SELECT 'aiprompt', id, prompt, NULL, created_at, NULL, category_id, user_id, NULL FROM aiprompts WHERE is_deleted = 0), unified_tags AS ( SELECT 'quote' AS type, quote_id AS content_id, tag_id FROM quote_tags UNION ALL SELECT 'aiprompt', aiprompt_id, tag_id FROM aiprompt_tags UNION ALL SELECT 'book', book_id, tag_id FROM book_tags UNION ALL SELECT 'video', video_id, tag_id FROM video_tags UNION ALL SELECT 'article', article_id, tag_id FROM article_tags ) SELECT c.type, c.id, c.content, c.author, c.created_at, c.summary, cat.name AS category_name, u.username, c.url, -- Tags ( SELECT JSON_ARRAYAGG(t.name) FROM unified_tags ut JOIN tags t ON t.id = ut.tag_id WHERE ut.type = c.type AND ut.content_id = c.id ) AS tags, -- Comments ( SELECT JSON_ARRAYAGG( JSON_OBJECT( 'id', cm.id, 'username', u2.username, 'comment', cm.comment, 'created_at', cm.created_at ) ) FROM comments cm JOIN users u2 ON u2.id = cm.user_id WHERE cm.post_type = c.type AND cm.post_id = c.id AND cm.is_deleted = 0 ) AS comments, -- Votes (points) ( SELECT JSON_ARRAYAGG( JSON_OBJECT( 'id', v.id, 'user_id', u3.id, 'username', u3.username, 'vote_type', v.vote_type, 'created_at', v.created_at ) ) FROM votes v JOIN users u3 ON u3.id = v.user_id WHERE v.post_type = c.type AND v.post_id = c.id AND v.is_deleted = 0 ) AS points, -- Total counts for each type (scalar subqueries) (SELECT COUNT(*) FROM quotes WHERE is_deleted = 0) AS quote_count, (SELECT COUNT(*) FROM books WHERE is_deleted = 0) AS book_count, (SELECT COUNT(*) FROM articles WHERE is_deleted = 0) AS article_count, (SELECT COUNT(*) FROM aiprompts WHERE is_deleted = 0) AS aiprompt_count, (SELECT COUNT(*) FROM videos WHERE is_deleted = 0) AS video_count FROM unified_content c LEFT JOIN categories cat ON cat.id = c.category_id LEFT JOIN users u ON u.id = c.user_id ORDER BY RAND() LIMIT 10; \n    ","sqlMessage":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1","sqlState":"42000","stack":"Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1\n    at PromisePool.execute (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/mysql2/lib/promise/pool.js:54:22)\n    at /Users/sathiya/Documents/InspireStackDevelopment/stack_server/routes/allpost.js:13:30\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:157:13)\n    at authenticateToken (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/middleware/auth.js:14:5)\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/route.js:117:3)\n    at handle (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/Users/sathiya/Documents/InspireStackDevelopment/stack_server/node_modules/router/lib/layer.js:152:17)","timestamp":"2025-10-18 14:09:06"}
